#!/usr/bin/env python3
import requests

# ===============

up_token = ""

# ===============

url = "https://api.up.com.au/api/v1/accounts"
icon = "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGzmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDctMzFUMTc6MTY6NDYrMTA6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDctMzFUMTc6MTY6NDYrMTA6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA3LTMxVDE3OjE2OjQ2KzEwOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgyMWQ4YjVjLWFiYzgtNGYyNy1hZTUzLWYwMTk1MWRiZDhiYyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjE0ZTE3YjQ4LTQzYTAtMWY0YS1iNjRmLWJjMmYxMDFmYzVlNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNlOTExYTFhLTg0MTYtNGVjOS05NDU1LTg3MjgzMjc0MDc5YiIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRvdCBHYWluIDIwJSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNlOTExYTFhLTg0MTYtNGVjOS05NDU1LTg3MjgzMjc0MDc5YiIgc3RFdnQ6d2hlbj0iMjAyMC0wNy0zMVQxNzoxNjo0NisxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjgyMWQ4YjVjLWFiYzgtNGYyNy1hZTUzLWYwMTk1MWRiZDhiYyIgc3RFdnQ6d2hlbj0iMjAyMC0wNy0zMVQxNzoxNjo0NisxMDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpiY2E4MmE2Mi0yNTVlLTYzNDItYjhkMi1mZmYxYzFlODAyNzg8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjZkMzE2ZDNhLWFhNzYtNGUwNS1hZGZmLWI5MTY5MDIzZTQxZTwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0i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"

headers = {
  'Authorization': f'Bearer {up_token}'
}

response = requests.request("GET", url, headers=headers)

if response.status_code == 200:
  print(f' | templateImage={icon}')
  print('---')
  print('ACCOUNT BALANCES | size=10')
  for data in response.json()['data']:
    acc_name = data['attributes']['displayName']
    acc_value = data['attributes']['balance']['value']
    print(f"⚡ { acc_name } - ${ acc_value }")
else:
  print(f'⚠️ | templateImage={icon}')
  print('---')
  print('REQUEST FAILED | size=10')
  for data in response.json()['errors']:
    title = data['title']
    detail = data['detail']
    print(f'⚠️ {title} - {detail}')